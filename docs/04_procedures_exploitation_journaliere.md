# Procédures d’exploitation journalière

## Objectif

Définir les actions à réaliser quotidiennement par l’équipe d’exploitation pour s’assurer du bon fonctionnement des bases de données et des scripts associés.

## Vérifications matinales

1. Vérifier le statut des instances de bases de données :
   - Disponibilité de PostgreSQL.
   - Disponibilité des éventuels autres SGBD utilisés.
2. Vérifier le statut des sauvegardes de la nuit précédente :
   - Consulter les logs produits par `backup_runner.py`.
   - Vérifier la présence du fichier de sauvegarde attendu dans le répertoire `backups/postgres/`.
3. Vérifier l’espace disque :
   - Contrôler l’espace disponible sur les volumes hébergeant les bases et les sauvegardes.
4. Vérifier les métriques de supervision :
   - Consulter le dashboard principal (disponibilité, volumétrie, temps de réponse).

## Exécution de tâches planifiées

Certaines tâches sont réalisées automatiquement par les scripts Python et/ou Ansible. L’équipe doit :

- S’assurer que le scheduler (ou l’ordonnanceur système) fonctionne correctement.
- Vérifier l’absence d’erreurs dans les logs des scripts suivants :
  - `manage_schemas.py` (si des mises à jour sont programmées).
  - `health_checks.py`.
  - `perf_metrics_collector.py`.
  - `security_audit.py` (selon fréquence définie).

## Suivi des alertes

En cas d’intégration avec un système d’alerte (courriel, supervision), l’équipe doit :

- Consulter la liste des alertes reçues.
- Qualifier chaque alerte (incident réel vs. alerte d’information).
- Ouvrir un ticket si un incident est confirmé, en référence aux procédures d’incident critique.

## Contrôles hebdomadaires recommandés

Une fois par semaine, il est recommandé de :

- Examiner les rapports de performance consolidés.
- Vérifier les tendances de volumétrie.
- Contrôler les rapports d’audit de sécurité.
- Valider la cohérence des sauvegardes et effectuer un test de restauration sur un environnement de test, lorsque cela est possible.

## Documentation et traçabilité

- Noter dans un journal d’exploitation les incidents rencontrés, les actions menées et leur résultat.
- Mettre à jour la documentation lorsque des procédures évoluent.
